{"mappings":"qhBAGA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAMF,SAASC,cAAc,mBAInC,SAASE,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACFF,EAAQ,C,SAAEH,E,MAAUC,IAEpBG,EAAO,C,SAAEJ,E,MAAUC,MAEpBA,MAZPN,EAAKc,iBAAiB,UAgBtB,SAAsBC,GACpBA,EAAEC,iBACF,MAAMC,EAAUF,EAAEG,cAAcC,SAChChB,EAAIiB,UAAW,EAEf,IAAIC,EAAQC,SAASL,EAAQX,MAAMiB,OACnC,MAAMC,EAAOF,SAASL,EAAQO,KAAKD,OAC7BE,EAASH,SAASL,EAAQQ,OAAOF,OAEvCV,YAAW,KACTV,EAAIiB,UAAW,IACdK,EAASD,EAAOH,GAEnB,IAAK,IAAIK,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAChCtB,EAAcsB,EAAGL,GACdM,MAAK,EAACtB,SAAEA,EAAQC,MAAEA,MACjBsB,EAAA9B,GAAS+B,OAAOC,QAAQ,uBAAqBzB,QAAiBC,UAE/DyB,OAAM,EAAC1B,SAAEA,EAAQC,MAAEA,MAClBsB,EAAA9B,GAAS+B,OAAOG,QAAQ,sBAAoB3B,QAAeC,UAE/De,GAASG","sources":["src/js/03-promises.js"],"sourcesContent":["// Write a script that, when submitting the form, calls the createPromise(position, delay) function as many times as you entered in the amount field. On each call, pass it the number of the promise to be created (position) and the delay given the first delay (delay) and step (step) entered by the user.\n// Supplement the code of the createPromise function so that it returns one promise that will be fulfilled or rejected after delay time. The value of the promise must be an object containing the position and delay properties with the values of these parameters. Use the initial function code to choose whether to fulfill or reject the promise.\n\nimport Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nconst btn = document.querySelector('[type=\"submit\"]');\n\nform.addEventListener('submit', onSubmitForm);\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n  }\n    }, delay)\n  })\n}\n\nfunction onSubmitForm(e){\n  e.preventDefault();\n  const element = e.currentTarget.elements;\n  btn.disabled = true;\n\n  let delay = parseInt(element.delay.value);\n  const step = parseInt(element.step.value);\n  const amount = parseInt(element.amount.value);\n\n  setTimeout(() => {\n    btn.disabled = false;\n  }, amount * step + delay)\n  \n  for (let i = 1; i <= amount; i += 1) {\n    createPromise(i, delay)\n      .then(({ position, delay }) => {    \n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    delay += step;\n  }\n} \n\n\n\n\n\n\n\n\n\n\n\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$btn","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","e","preventDefault","element","currentTarget","elements","disabled","delay1","parseInt","value","step","amount","i","then","$parcel$interopDefault","Notify","success","catch","failure"],"version":3,"file":"03-promises.da7d2285.js.map"}